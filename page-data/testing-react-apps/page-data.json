{"componentChunkName":"component---src-templates-docs-js","path":"/testing-react-apps","webpackCompilationHash":"f08cc9c41280b7082899","result":{"data":{"site":{"siteMetadata":{"title":"JavaScript Testing In And Around WordPress | Josh Pollock","docsLocation":"https://github.com/shelob9/react-testing-wordpress-book/tree/master/content"}},"mdx":{"fields":{"id":"ba23fb2f-7f94-5854-9b89-91e209284b10","title":"Testing React Apps","slug":"/testing-react-apps"},"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Testing React Apps\",\n  \"metaTitle\": \"Background\",\n  \"metaDescription\": \"desc\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"In this section, I will walk you through creating a test-driven React app. In the section that follows, I'll show you how to extend those skills to WordPress block development.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/Shelob9/testing-react-apps\"\n  }), \"Example Code For Part One\"))), mdx(\"h2\", null, \"How React Works\"), mdx(\"p\", null, \"To test React components, we need a test renderer. So, it's worth backing up and talking about how React and React renderers, such as \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://reactjs.org/docs/react-dom.html\"\n  }), \"ReactDOM\"), \", work.\"), mdx(\"h3\", null, \"Step 1\"), mdx(\"p\", null, \"React creates an object representation of nodes representing a user interface. React \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"does not\"), \" produce HTML. React creates these elements:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"React.createElement(\\\"div\\\", { className: \\\"alert\\\" }, \\\"Something Happened\\\");\\n\")), mdx(\"p\", null, \"That's what it does. The output of the program \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"React\"), \" is an object representing what the state of the application \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"should be\"), \", not an HTML string.\"), mdx(\"h3\", null, \"Step 2\"), mdx(\"p\", null, \"Once React has generated its output, a \\\"renderer\\\" converts that object to a useable interface. ReactDOM renders React as DOM tree and keeps the actual DOM in sync:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"//Create object representation of application.\\nconst App = () => <div className={\\\"alert\\\"}>Someting Happened</div>;\\n\\n//Render object to the screen using ReactDOM\\nReactDOM.render(<App />, document.getElementById(\\\"root\\\"));\\n\")), mdx(\"p\", null, \"One of the benefits of object-oriented desgin, is that interfaces can define a type of object, and as a result, which specific concrete implimentation of that type that's being used doesn't really matter. In this case, the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Renderer\"), \" interface defines what is supplied to a renderer and the implimentation details are left to the concrete implimentation.\"), mdx(\"p\", null, \"This is \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://blog.bitsrc.io/solid-principles-every-developer-should-know-b3bfa96bb688\"\n  }), \"SOLID design\"), \".\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"ReactDOMServer renders to an HTML string for server to send to client.\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"ReactDOMServer.renderToString(<App />);\\n\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/vadimdemedes/ink\"\n  }), \"Ink\"), \" is a renderer for creating interactive console apps.\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"import { render } from \\\"ink\\\";\\nrenderToString(<App />);\\n\")), mdx(\"h2\", null, \"Test Renderers\"), mdx(\"p\", null, \"Generally we use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ReactDOM\"), \" beacuse we want to render a user interface to the DOM. When testing, we generally want to use a renderer that is designed for testing.\"), mdx(\"p\", null, \"The React team develops \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://reactjs.org/docs/test-renderer.html\"\n  }), \"React Test Renderer\"), \". This library is for basic tests and snapshots.\"), mdx(\"p\", null, \"One limitation of React Test Renderer is itdoes not use \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/jsdom/jsdom\"\n  }), \"JSDOM\"), \". That makes it faster, and more limited in what it can do. We can do basic unit tests, but we can not easily test events. We could, but we'd end up reverse engineering existing tools, such as \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://airbnb.io/enzyme/\"\n  }), \"Enzyme\"), \" or \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://testing-library.com/docs/react-testing-library/intro\"\n  }), \"React Testing Library\"), \".\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://airbnb.io/enzyme/\"\n  }), \"Enzyme\"), \" is developed by AirBnB and is one of the defacto community standard tools for JavaScript testing. Enzyme does use JSDOM. It is very good for testing events. It's super useful for testing class components methods/ state. I like that the syntax for selecting from the rendered JSDOM is jQuery-like. This made it feel easy to learn.\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://testing-library.com/docs/react-testing-library/intro\"\n  }), \"React Testing Library\"), \" is newer entry that is becoming more popular. The \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://testing-library.com/docs/guiding-principles\"\n  }), \"guiding principle\"), \" of testing library is:\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"The more your tests resemble the way your software is used, the more confidence they can give you.\")), mdx(\"p\", null, \"The idea behind testing React -- or Vue, or any interface -- is that you write tests like you would use the application. This mixes integration and acceptance testing in a way I like. You can use the renderer provided by this library for snapshot and other type of unit tests. Where it shines -- and in my experience has a steeper learning cureve than Enzyme -- is testing events and other interactions.\"), mdx(\"p\", null, \"Also, it works with hooks.\"), mdx(\"h2\", null, \"The Test Suite\"), mdx(\"p\", null, \"This is JavaScript, so our test suite will be assembled of smaller packages.\"), mdx(\"p\", null, \"First, we need a test runner. This runs our tests, reports passes and fails and provides coverage report. Most React apps use \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://jestjs.io/\"\n  }), \"Jest\"), \". If you're a PHP developer, think of Jest as phpunit for React.\"), mdx(\"p\", null, \"Our test suite also needs test renderer. We'll be using \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://reactjs.org/docs/test-renderer.html\"\n  }), \"React Test Renderer\"), \" and \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://testing-library.com/docs/react-testing-library/intro\"\n  }), \"React Testing Library\"), \".\"), mdx(\"p\", null, \"Lastly, we'll need an assertion library, which allows us to test the output of our program to ensure it matches the expected behaviour. We'll use whatever Jest uses, which I think is Chai. I don't know, and it doesn't really matter.\"), mdx(\"h2\", null, \"Zero-Config Testing\"), mdx(\"p\", null, \"If this is starting to sound complicated, and you're worried about having to configure it all, please stop worrying. The great thing about React is most of the complexity in tooling can be hidden from you by using a React framework such as create-react-app or Gatsby.\"), mdx(\"p\", null, \"In this eductional website, I'll be teaching two of these tools:\"), mdx(\"h3\", null, \"React Scripts\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react-scripts\"), \" is used by \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"create-react-app\"), \" for building, testing and linting React apps. The command to test your app is \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"react-scripts test\"), \".\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"npx create-react-app app #create app\\ncd app #change to app directory\\nyarn test # run tests\\n\")), mdx(\"h3\", null, \"WordPress Scripts\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.npmjs.com/package/@wordpress/scripts\"\n  }), mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"@wordpress/scripts\")), \" is WordPress' \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"create-react-app\"), \"-inspired zero-config tools for building, testing and linting Gutenberg blocks. The command to test your block is \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"wordpress-scripts test\"), \". This tool uses the same technolgoies as \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"create-react-app\"), \" and removes the complexity of making them work with the WordPress block editor and WordPress' asset managment API.\"), mdx(\"p\", null, \"When using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"@wordpress/scripts\"), \" dependencies such as \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"React\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"lodash\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"@wordpress/components\"), \" are NOT included in the bundle. WordPress loads one copy of those dependencies, preventing conflicts between plugins.\"), mdx(\"p\", null, \"Developed for Gutenberg, great for your plugins.\"), mdx(\"p\", null, \"Once you've learned React testing, you can apply that knowledge to WordPress testing. It's the same APIs and technologies.\"));\n}\n;\nMDXContent.isMDXComponent = true;","tableOfContents":{"items":[{"url":"#how-react-works","title":"How React Works","items":[{"url":"#step-1","title":"Step 1"},{"url":"#step-2","title":"Step 2"}]},{"url":"#test-renderers","title":"Test Renderers"},{"url":"#the-test-suite","title":"The Test Suite"},{"url":"#zero-config-testing","title":"Zero-Config Testing","items":[{"url":"#react-scripts","title":"React Scripts"},{"url":"#wordpress-scripts","title":"WordPress Scripts"}]}]},"parent":{"__typename":"File","relativePath":"testing-react-apps.md"},"frontmatter":{"metaTitle":"Background","metaDescription":"desc"}},"allMdx":{"edges":[{"node":{"fields":{"slug":"/about","title":"About"}}},{"node":{"fields":{"slug":"/","title":"JavaScript Testing In And Around WordPress"}}},{"node":{"fields":{"slug":"/testing-background","title":"Types of Tests"}}},{"node":{"fields":{"slug":"/next","title":"Next Steps"}}},{"node":{"fields":{"slug":"/introduction","title":"Introduction"}}},{"node":{"fields":{"slug":"/testing-background/2-unit-tests","title":"Unit Tests"}}},{"node":{"fields":{"slug":"/testing-react-wordpress-blocks","title":"Testing WordPress Blocks"}}},{"node":{"fields":{"slug":"/testing-react-apps","title":"Testing React Apps"}}},{"node":{"fields":{"slug":"/testing-background/3-integration-tests","title":"Integration Tests"}}},{"node":{"fields":{"slug":"/testing-background/4-acceptance-tests","title":"Acceptance Tests"}}},{"node":{"fields":{"slug":"/testing-react-wordpress-blocks/5-writing-tdd-blocks","title":"Test-Driven Gutenberg Blocks"}}},{"node":{"fields":{"slug":"/testing-react-wordpress-blocks/2-setting-up","title":"Creating A WordPress Plugin Using WordPress Scripts"}}},{"node":{"fields":{"slug":"/testing-react-wordpress-blocks/3-structure","title":"Structuring  WordRress Plugin For Testablity"}}},{"node":{"fields":{"slug":"/testing-react-wordpress-blocks/4-writing-block-tests","title":"Wrting Tests For WordPress Blocks"}}},{"node":{"fields":{"slug":"/testing-react-apps/2-questions-and-specs","title":"Questions and Scopes"}}},{"node":{"fields":{"slug":"/testing-react-apps/4-integration-testing-react-apps","title":"Integration Testing React Apps"}}},{"node":{"fields":{"slug":"/testing-react-apps/5-writing-tdd-react-components","title":"Writing Test Driven React Components"}}},{"node":{"fields":{"slug":"/testing-react-apps/3-unit-testing-react","title":"Unit Testing React Apps"}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"ba23fb2f-7f94-5854-9b89-91e209284b10"}}}