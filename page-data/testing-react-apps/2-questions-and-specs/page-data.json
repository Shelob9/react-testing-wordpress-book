{"componentChunkName":"component---src-templates-docs-js","path":"/testing-react-apps/2-questions-and-specs","webpackCompilationHash":"20bbf8f542dd55205dc4","result":{"data":{"site":{"siteMetadata":{"title":"JavaScript Testing In And Around WordPress | Josh Pollock","docsLocation":"https://github.com/shelob9/react-wordpress-testing/tree/master/content"}},"mdx":{"fields":{"id":"c8c2130b-bf07-5aba-8fb3-1e3e5617965d","title":"Questions and Scopes","slug":"/testing-react-apps/2-questions-and-specs"},"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Questions and Scopes\",\n  \"metaTitle\": \"What To Test In A React App?\",\n  \"metaDescription\": \"desc\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"When you use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"create-react-app\"), \" to create a React app, it creates one test:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"import React from \\\"react\\\";\\nimport ReactDOM from \\\"react-dom\\\";\\nimport App from \\\"./App\\\";\\nit(\\\"renders without crashing\\\", () => {\\n  const div = document.createElement(\\\"div\\\");\\n  ReactDOM.render(<App />, div);\\n  ReactDOM.unmountComponentAtNode(div);\\n});\\n\")), mdx(\"p\", null, \"This test checks if the app can render without crashing. This is a very broad acceptance test. It's a good test to have, but it provides no detail. It either tells us that the inital render of the app can happen without errors or something in the intial render of the app is buggy.\"), mdx(\"p\", null, \"We need to write our own tests for other states of the app. In addition we want to make sure that when events, such as form input change events happen, the application reacts accordingly.\"), mdx(\"h2\", null, \"How Do You Know If Your React App Works\"), mdx(\"p\", null, \"Automated tests let us know if our code works as expected. More importantly, they become a part of the program. Changes to the app should be verifed to be \\\"working\\\" if all tests pass after making the change. Each \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/react-wordpress-testing/testing-background/1-types\"\n  }), \"type of test\"), \" tells us something about our app.\"), mdx(\"h2\", null, \"Starting With Specifications\"), mdx(\"p\", null, \"I like to start by transalating the specification for your app into tests. Writing tests first allows you to ensure that the specification is properly communicated to the engineer(s) buidling the app, feature or bug fix. In addition, GitHub, GitLab and other tools can tell you if your work is \\\"done\\\" or not.\"), mdx(\"h3\", null, \"Spec For Example App\"), mdx(\"p\", null, \"Let's build a very basic app, with tests:\"), mdx(\"p\", null, \"Here is the spec:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A one page app that:\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Displays a string, whose default value is \\\"Hi Roy\\\".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Has a form input to change that value.\")))), mdx(\"h3\", null, \"Test Specs\"), mdx(\"p\", null, \"Know that we know the specification for the app, we can start thinking about questions we want to answer.\"), mdx(\"p\", null, \"First, I want to know that my React components work, in isolation as expected. I'll answer these questions with unit tests. In order to test in isolation. I'll need a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<DisplayValue />\"), \" component that has the responsibiity to display the current value. I'll also need an \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<Edit />\"), \" component to manage the input for modifying the value.\"), mdx(\"p\", null, \"My unit tests will answer these questions:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Does the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"<DisplayValue />\"), \" componet show the current value?\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Does the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"<Edit />\"), \" component have the current value as its value attribue?\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Does the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"<Edit />\"), \" component call the supplied onChange callback in response to a change event and supply the upadate value.\")), mdx(\"p\", null, \"If those tests pass, it will NOT prove that the components work toghether. Those are questions integration tests will prove.\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Does the display value change with the input?\")), mdx(\"p\", null, \"Now we have the test spec and the application spec. BTW the testing spec is almost in BDD language. Forcing these specs into the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://cucumber.io/docs\"\n  }), \"cucumber.js\"), \"] or similar syntax might be useful for acceptance testing.\"), mdx(\"h2\", null, \"Test-Driven React Development\"), mdx(\"p\", null, \"Know that we know what questions we need to answer and what the basic components are, we'll create the tests.\"), mdx(\"h3\", null, \"Step One: Incomplete Components\"), mdx(\"p\", null, \"Writing out our spec tells us what components we need and what there expected behaviour is. Resist the urge to impliment that behaviour and create empty components. It is essential that they NOT work at this point. We want to be able to prove they work with tests, so tests first.\"), mdx(\"p\", null, \"In the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src\"), \" directory, create a sub-directory called \\\"components\\\" and create two files there, one for each component:\"), mdx(\"p\", null, \"For displaying the value:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"//src/components/DisplayValue.js\\nimport React from \\\"react\\\";\\nexport const DisplayValue = props => null;\\n\")), mdx(\"p\", null, \"For editing the value:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"//src/components/EditValue.js\\nimport React from \\\"react\\\";\\nexport const EditValue = props => null;\\n\")), mdx(\"h3\", null, \"Step Two: Incomplete Tests\"), mdx(\"p\", null, \"Go ahead and commit those components. Then, let's create test files that explain \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"what\"), \" we will test. This will show us how the syntax of tests work.\"), mdx(\"h4\", null, \"The test() Syntax\"), mdx(\"p\", null, \"All tests must be wrapped in a closure. We use a test function whose first argument is a string describing the test, and the second is a closure wrapping one or more tests. The simplest way to do this is to wrap each test with the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"test()\"), \" function.\"), mdx(\"p\", null, \"Create a file \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"DisplayValue.test.js\"), \" in the same directory. Jest is configured to look in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/src\"), \" for files that end with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".test.js\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"test.jsx\"), \".\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"// src/components/DisplayValue.js\\n\\n//Import React\\nimport React from \\\"react\\\";\\n//Import test renderer\\nimport TestRenderer from \\\"react-test-renderer\\\";\\n//Import component to test\\nimport { DisplayValue } from \\\"./DisplayValue\\\";\\n\\ntest(\\\"Component renders value\\\", () => {});\\n\\ntest(\\\"Component has supplied class name\\\", () => {});\\n\")), mdx(\"p\", null, \"In this snippet, first, all of the relevant dependencies are included. Then we write out \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"what\"), \" we want these tests to prove. The first test answers the question \\\"does the compoennt show the value?\\\" The second test answers as question about the className prop.\"), mdx(\"p\", null, \"This syntax is pretty declarative, and it does not reflect how the program is used.\"), mdx(\"h4\", null, \"BDD Style\"), mdx(\"p\", null, \"For the edit component, let's use BDD syntax to describe how the program is used. Create \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/components/EditValue.test.js\"), \". I'm skipping the imports here, they are the same as before, with a diffent component being imported.\"), mdx(\"p\", null, \"Notice that we use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"describe()\"), \" to group our tests, and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"it()\"), \" to describe what it -- our component -- does:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-jsx\"\n  }), \"describe(\\\"EditValue Component\\\", () => {\\n  it(\\\"Has the supplied value in the input\\\", () => {});\\n\\n  it(\\\"Passes string to onChange when changed\\\", () => {});\\n});\\n\")), mdx(\"p\", null, \"These tests answe the questions we asked about the intial state and the reaction to a change event we are concerned with.\"), mdx(\"h3\", null, \"Step 3: Write Failing Tests\"), mdx(\"p\", null, \"Now you will need to write tests that prove that your components do \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"not\"), \" work. These tests should pass when the components work.\"), mdx(\"p\", null, \"Next section!\"));\n}\n;\nMDXContent.isMDXComponent = true;","tableOfContents":{"items":[{"url":"#how-do-you-know-if-your-react-app-works","title":"How Do You Know If Your React App Works"},{"url":"#starting-with-specifications","title":"Starting With Specifications","items":[{"url":"#spec-for-example-app","title":"Spec For Example App"},{"url":"#test-specs","title":"Test Specs"}]},{"url":"#test-driven-react-development","title":"Test-Driven React Development","items":[{"url":"#step-one-incomplete-components","title":"Step One: Incomplete Components"},{"url":"#step-two-incomplete-tests","title":"Step Two: Incomplete Tests","items":[{"url":"#the-test-syntax","title":"The test() Syntax"},{"url":"#bdd-style","title":"BDD Style"}]},{"url":"#step-3-write-failing-tests","title":"Step 3: Write Failing Tests"}]}]},"parent":{"__typename":"File","relativePath":"testing-react-apps/2-questions-and-specs.md"},"frontmatter":{"metaTitle":"What To Test In A React App?","metaDescription":"desc"}},"allMdx":{"edges":[{"node":{"fields":{"slug":"/about","title":"About"}}},{"node":{"fields":{"slug":"/next","title":"Next Steps"}}},{"node":{"fields":{"slug":"/introduction","title":"Introduction"}}},{"node":{"fields":{"slug":"/","title":"JavaScript Testing In And Around WordPress"}}},{"node":{"fields":{"slug":"/testing-react-apps","title":"Testing React Apps"}}},{"node":{"fields":{"slug":"/testing-react-apps/5-writing-tdd-react-components","title":"Writing Test Driven React Components"}}},{"node":{"fields":{"slug":"/testing-react-wordpress-blocks","title":"Testing WordPress Blocks"}}},{"node":{"fields":{"slug":"/testing-background","title":"Types of Tests"}}},{"node":{"fields":{"slug":"/testing-react-wordpress-blocks/2-setting-up","title":"Creating A WordPress Plugin Using WordPress Scripts"}}},{"node":{"fields":{"slug":"/testing-react-apps/4-integration-testing-react-apps","title":"Integration Testing React Apps"}}},{"node":{"fields":{"slug":"/testing-react-wordpress-blocks/3-structure","title":"Structuring  WordRress Plugin For Testablity"}}},{"node":{"fields":{"slug":"/testing-background/2-unit-tests","title":"Unit Tests"}}},{"node":{"fields":{"slug":"/testing-react-wordpress-blocks/4-writing-block-tests","title":"Wrting Tests For WordPress Blocks"}}},{"node":{"fields":{"slug":"/testing-react-apps/2-questions-and-specs","title":"Questions and Scopes"}}},{"node":{"fields":{"slug":"/testing-background/3-integration-tests","title":"Integration Tests"}}},{"node":{"fields":{"slug":"/testing-background/4-acceptance-tests","title":"Acceptance Tests"}}},{"node":{"fields":{"slug":"/testing-react-wordpress-blocks/5-writing-tdd-blocks","title":"Test-Driven Gutenberg Blocks"}}},{"node":{"fields":{"slug":"/testing-react-apps/3-unit-testing-react","title":"Unit Testing React Apps"}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"c8c2130b-bf07-5aba-8fb3-1e3e5617965d"}}}