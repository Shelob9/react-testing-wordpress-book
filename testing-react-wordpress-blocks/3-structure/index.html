<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta property="twitter:card" content="summary_large_image"/><link rel="shortcut icon" type="image/svg" href="https://placekitten.com/250/250"/><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"/><script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><style data-href="/testing-react-wordpress-blocks/styles.d4a5dd4d326e6d956a84.css">@import url(https://fonts.googleapis.com/css?family=Roboto:300,400,500,700);body{font-family:Roboto}.video-responsive{position:relative;padding-bottom:56.2%}.video-responsive iframe{position:absolute;width:100%;height:100%}.diffNewLine{color:#22863a;background-color:#f0fff4}.diffRemoveLine{color:red;background-color:#fcc}.navBarParent{width:100%;float:left;display:flex;align-items:center}.divider{height:30px;margin:0 15px;border-right:1px solid hsla(0,0%,100%,.3)}.githubIcon{width:15px;margin-right:5px}.githubSection{display:flex;align-items:center;color:#000;opacity:.7}.githubSection:hover{text-decoration:none;opacity:1}.navbar-default .navbar-toggle .icon-bar{background-color:#fff!important}.navbar-default .navbar-toggle:focus,.navbar-default .navbar-toggle:hover{background-color:#3d4852}.headerWrapper{border-bottom:1px solid #d4dadf;box-shadow:0 1px 1px 0 rgba(116,129,141,.1);display:flex;align-items:center}.formElement{background-color:transparent;padding:4px;border-bottom:1px solid hsla(0,0%,100%,.3)}.formElement:focus{outline:none;border:none}.formElement svg path{fill:#fff}.searchInput{width:calc(100% - 26px);background-color:transparent!important;border-width:0!important;color:hsla(0,0%,100%,.5)}.searchInput:focus,.searchInput:focus-within,.searchInput:hover,.searchInput:visited{outline:none;border:0}.searchWrapper{padding-left:0;padding-right:20px;flex:1 1;max-width:600px;position:relative}.searchWrapper a{font-weight:500}.hitWrapper{background-color:#fff;padding:4px;border-radius:4px;position:absolute;max-width:600px;top:40px;border:1px solid #ccc;box-shadow:0 1px 4px 0 rgba(0,0,0,.16);height:auto;max-height:80vh;overflow:scroll;left:0}.showResults{display:block}.hideResults{display:none}.hitWrapper span{color:#000;font-size:14px}.headerTitle a{color:#fff}.headerTitle a:hover{text-decoration:none;opacity:.8}.navBarCollapse{padding-left:0}.logoWrapper{padding:21px 0 21px 20px}.logoContent{font-family:Roboto;margin-left:16px;font-size:28px;line-height:1.5;font-weight:500;padding-right:10px}.navBarDefault{background-color:#3d4852;border-radius:0;margin-bottom:0;border:0;display:flex;align-items:center;box-shadow:-1px 0 4px 1px rgba(175,158,232,.4);-webkit-box-shadow:-1px 0 4px 1px rgba(175,158,232,.4);-moz-box-shadow:-1px 0 4px 1px rgba(175,158,232,.8);-o-box-shadow:-1px 0 4px 1px rgba(175,158,232,.4);z-index:1;padding:15px}.navBarHeader{min-width:335px;padding-right:20px}.navBarBrand{height:auto;font-size:28px;line-height:1.5;font-weight:500;color:#fff!important;padding:0;display:flex;align-items:center}.navBarBrand img{width:40px;margin-right:16px;display:inline-block}.navBarUL li a{font-family:Roboto;color:#fff!important;font-size:16px;font-weight:500;line-height:1em;opacity:1}.navBarNav{display:flex;align-items:center}.navBarUL li a .shareIcon,.navBarUL li a img{width:20px}.mainWrapper{color:#3b454e;max-width:750px}.navBarUL li a:hover{opacity:.7}pre{border:0!important;background-color:#f5f7f9 /* !important; */}.mainWrapper ol,.mainWrapper ul{-webkit-padding-start:40px;-moz-padding-start:40px;-o-padding-start:40px;margin:24px 0;padding:0 0 0 2em}.mainWrapper ol li,.mainWrapper ul li{font-size:16px;line-height:1.8;font-weight:400}.headerNav{font-family:Roboto;padding:0 24px;color:#744cbc;font-size:16px;font-weight:500;line-height:1em}.headerNav a{color:#744cbc}.headerNav a,.headerNav a:hover{text-decoration:none}.logoWrapper img{width:40px}.sideBarUL{margin-top:32px}.sideBarUL li{list-style-type:none;width:auto}.sideBarUL li a{color:#fff;font-size:14px;font-weight:500;line-height:1.5;padding:7px 25px 7px 10px;border:1px solid transparent;border-right:0}.rightSideTitle{font-size:10px;line-height:1;font-weight:700;text-transform:uppercase;letter-spacing:1.2px;padding:7px 24px 7px 16px;border-left:1px solid #e6ecf1;color:#9daab6}.rightSideBarUL{margin-top:32px}.rightSideBarUL li{list-style-type:none;border-left:1px solid #e6ecf1}.rightSideBarUL li a{font-size:12px;font-weight:500;line-height:1.5;padding:7px 24px 7px 16px}.hideFrontLine .collapser{background:transparent;border:none;outline:none;margin-top:7px;position:absolute;right:20px;z-index:1}.hideFrontLine .active>a{background-color:#542683;color:#fff!important}.firstLevel ul li .collapser svg path{fill:#fff!important}.active .collapser>svg>path{fill:#639!important}.firstLevel ul .item ul .item{border-left:1px solid #e6ecf1}.sideBarUL .item{list-style:none;padding:0}.sideBarUL .item>a{color:#fff;text-decoration:none;display:inline-block;position:relative;width:100%;padding-right:35px;padding-left:15px}.sideBarUL .item>a:hover{background-color:#542683;color:#fff!important}.showFrontLine .item>a:hover{background-color:#542683}.showFrontLine .active>a{color:#fff;background-color:#473485}.sideBarUL .item .item{margin-left:16px}.firstLevel>ul>.item{margin-left:0!important}.showFrontLine .item .item{border-left:1px solid #e6ecf1;padding:0;width:calc(100% - 16px)!important}.showFrontLine .item .active>a{border-color:#e6ecf1!important;border-style:solid none solid solid;border-width:1px 0 1px 1px;background-color:#542683;color:#fff}.titleWrapper{display:flex;align-items:center;padding-bottom:40px;border-bottom:1px solid #e6ecf1;margin-bottom:32px}.title{font-size:32px;line-height:1.5;font-weight:500;border-left:2px solid #744cbc;flex:1 1;margin-top:0;padding:0 16px}.gitBtn{height:30px;min-height:30px;display:flex;align-items:center}.gitBtn img{width:15px;display:inline-block;margin-right:5px}.addPaddTopBottom{padding:50px 0}.nextPreviousWrapper{margin:0;padding:0;width:auto;display:grid;grid-template-rows:auto;-webkit-column-gap:24px;-moz-column-gap:24px;column-gap:24px;grid-template-columns:calc(50% - 8px) calc(50% - 8px)}.previousBtn{cursor:pointer;-moz-box-align:center;margin:0;padding:0;position:relative;display:flex;flex-direction:row;align-items:center;place-self:stretch;color:#242a31;background-color:#fff;border-radius:3px;border:1px solid #e6ecf1;-webkit-transition:border .2s ease 0s;transition:border .2s ease 0s;box-shadow:0 3px 8px 0 rgba(116,129,141,.1);text-decoration:none}.leftArrow{color:#9daab6;flex:0 0 auto;font-size:24px;-webkit-transition:color .2s ease 0s;transition:color .2s ease 0s}.leftArrow,.preRightWrapper{display:block;margin:0;padding:16px}.preRightWrapper{flex:1 1;text-align:right}.smallContent{display:block;margin:0;padding:0;color:#9daab6}.smallContent span{font-size:12px;line-height:1.625;font-weight:400}.nextPreviousTitle{display:block;margin:0;padding:0;-webkit-transition:color .2s ease 0s;transition:color .2s ease 0s}.nextPreviousTitle span{font-size:16px;line-height:1.5;font-weight:500}.nextBtn{cursor:pointer;-moz-box-align:center;margin:0;padding:0;position:relative;display:flex;flex-direction:row;align-items:center;place-self:stretch;color:#242a31;background-color:#fff;border-radius:3px;border:1px solid #e6ecf1;-webkit-transition:border .2s ease 0s;transition:border .2s ease 0s;box-shadow:0 3px 8px 0 rgba(116,129,141,.1);text-decoration:none}.rightArrow{flex:0 0 auto;font-size:24px;-webkit-transition:color .2s ease 0s;transition:color .2s ease 0s;color:#9daab6}.nextRightWrapper,.rightArrow{padding:16px;display:block;margin:0}.nextRightWrapper{flex:1 1}.nextBtn:hover,.previousBtn:hover{color:#744cbc;text-decoration:none;border:1px solid #744cbc}.nextBtn:hover .rightArrow,.previousBtn:hover .leftArrow{color:#744cbc}table,table tr{padding:0}table tr{border-top:1px solid #ccc;background-color:#fff;margin:0}table tr:nth-child(2n){background-color:#f8f8f8}table tr th{font-weight:700}table tr td,table tr th{border:1px solid #ccc;text-align:left;margin:0;padding:6px 13px}table tr td :first-child,table tr th :first-child{margin-top:0}table tr td :last-child,table tr th :last-child{margin-bottom:0}img{max-width:100%}.githubBtn{font-size:16px;padding:10px 0 10px 15px}.githubBtn,.githubBtn span span{display:flex;align-items:center}.communitySection{font-size:24px;font-weight:700}.authorName,.authorSection{display:flex;align-items:center}.authorImg img{width:75px;height:75px;border-radius:50%;min-width:75px;max-width:75px;min-height:75px;max-height:75px}.authorDetails{padding-left:10px}.authorDesc{padding-top:5px;font-size:14px}.authorName img{margin-left:10px;display:inline-block;width:20px}.authorName img:hover{opacity:.7}@media (max-width:767px){hr{margin-top:0;margin-bottom:0}.navBarParent{display:block}.separator{margin-top:20px;margin-bottom:20px}.navBarULRight{position:static}.navbar-collapse{padding-left:0;padding-right:0}.navBarUL{display:flex;align-items:center;margin:7.5px 0}.navBarUL li a{font-size:14px;padding:10px}.navBarDefault{display:block}.navBarToggle{margin-right:0;height:44px}.navBarHeader{display:flex;min-width:auto;padding-right:0;align-items:center}.navBarBrand{font-size:20px;padding:15px 15px 15px 0;flex:1 1}.titleWrapper{padding:0 15px;display:block}.mobileView{text-align:center!important}.gitBtn{display:inline-block}.mainWrapper{padding:0 15px}.nextPreviousWrapper{display:block;padding:0 15px}.previousBtn{margin-bottom:20px}.mobileView{text-align:left!important;padding-left:0!important}.searchWrapper{padding:20px 0 10px}.hitWrapper{width:100%;right:0;top:35px;max-height:-webkit-fit-content;max-height:-moz-fit-content;max-height:fit-content;position:static}}@media (min-width:768px) and (max-width:991px){.navBarDefault{padding:10px}.navBarBrand{font-size:22px}.navBarHeader{min-width:240px}.navBarCollapse{padding-right:10px;padding-left:10px}.githubBtn{padding:10px}.divider{margin:0 5px;height:20px}.hitWrapper{max-width:500px}.navBarUL li a{padding:10px 5px}.searchWrapper{padding-left:0}.navBarCollapse{display:flex!important;align-items:center}}</style><meta name="generator" content="Gatsby 2.15.21"/><link rel="sitemap" type="application/xml" href="/testing-react-wordpress-blocks/sitemap.xml"/><style data-styled="" data-styled-version="4.3.2"></style><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css"/><title data-react-helmet="true">Structuring  WordRress Plugin For Testablity</title><link data-react-helmet="true" rel="canonical" href="https://shelob9.github.io/testing-react-wordpress-blocks/testing-react-wordpress-blocks/testing-react-wordpress-blocks/3-structure"/><meta data-react-helmet="true" name="title" content="Structuring  WordRress Plugin For Testablity"/><meta data-react-helmet="true" name="description" content="desc"/><meta data-react-helmet="true" property="og:title" content="Structuring  WordRress Plugin For Testablity"/><meta data-react-helmet="true" property="og:description" content="desc"/><meta data-react-helmet="true" property="twitter:title" content="Structuring  WordRress Plugin For Testablity"/><meta data-react-helmet="true" property="twitter:description" content="desc"/><link as="script" rel="preload" href="/testing-react-wordpress-blocks/commons-0c5b058b0bf60dd40b1f.js"/><link as="script" rel="preload" href="/testing-react-wordpress-blocks/app-6f9daf18df1c263e214d.js"/><link as="script" rel="preload" href="/testing-react-wordpress-blocks/styles-03a27cfaa0c407ff155e.js"/><link as="script" rel="preload" href="/testing-react-wordpress-blocks/webpack-runtime-d596d0be72563a022ed3.js"/><link as="fetch" rel="preload" href="/testing-react-wordpress-blocks/page-data\testing-react-wordpress-blocks\3-structure\page-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div><div class="navBarWrapper"><nav class="navbar navbar-default navBarDefault"><div class="navbar-header navBarHeader"><a class="navbar-brand navBarBrand" href="/testing-react-wordpress-blocks/"><img class="img-responsive" src="https://placekitten.com/250/250" alt="logo"/><div class="headerTitle">JavaScript Testing In And Around WordPress</div></a><button type="button" class="navbar-toggle collapsed navBarToggle" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div id="navbar" class="navbar-collapse collapse navBarCollapse"><div class="visible-xs"><aside class="css-hz2kq5"><ul class="sideBarUL"><li class="hideFrontLine firstLevel item "><ul><li class=" item "><a href="/testing-react-wordpress-blocks/introduction">Introduction</a></li><li class=" item "><button class="collapser"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"></path></svg></button><a href="/testing-react-wordpress-blocks/testing-background">Types of Tests</a><ul><li class=" item "><a href="/testing-react-wordpress-blocks/testing-background/2-unit-tests">Unit Tests</a></li><li class=" item "><a href="/testing-react-wordpress-blocks/testing-background/3-integration-tests">Integration Tests</a></li><li class=" item "><a href="/testing-react-wordpress-blocks/testing-background/4-acceptance-tests">Acceptance Tests</a></li></ul></li><li class=" item "><button class="collapser"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"></path></svg></button><a href="/testing-react-wordpress-blocks/testing-react-apps">Testing React Apps</a><ul><li class=" item "><a href="/testing-react-wordpress-blocks/testing-react-apps/2-questions-and-specs">Questions and Scopes</a></li><li class=" item "><a href="/testing-react-wordpress-blocks/testing-react-apps/3-unit-testing-react">Unit Testing React Apps</a></li><li class=" item "><a href="/testing-react-wordpress-blocks/testing-react-apps/4-integration-testing-react-apps">Integration Testing React Apps</a></li><li class=" item "><a href="/testing-react-wordpress-blocks/testing-react-apps/5-writing-tdd-react-components">Writing Test Driven React Components</a></li></ul></li><li class=" item "><button class="collapser"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"></path></svg></button><a href="/testing-react-wordpress-blocks/testing-react-wordpress-blocks">Testing WordPress Blocks</a><ul><li class=" item "><a href="/testing-react-wordpress-blocks/testing-react-wordpress-blocks/2-setting-up">Creating A WordPress Plugin Using WordPress Scripts</a></li><li class=" item "><a aria-current="page" class="" href="/testing-react-wordpress-blocks/testing-react-wordpress-blocks/3-structure">Structuring  WordRress Plugin For Testablity</a></li><li class=" item "><a href="/testing-react-wordpress-blocks/testing-react-wordpress-blocks/4-writing-block-tests">Wrting Tests For WordPress Blocks</a></li><li class=" item "><a href="/testing-react-wordpress-blocks/testing-react-wordpress-blocks/5-writing-tdd-blocks">Test-Driven Gutenberg Blocks</a></li></ul></li><li class=" item "><a href="/testing-react-wordpress-blocks/next">Next Steps</a></li><li class=" item "><a href="/testing-react-wordpress-blocks/about">About</a></li></ul></li><li class="css-17hslul"><hr/></li><li class="css-sdb4jl"><a href="https://JoshPress.net" to="https://JoshPress.net">Josh<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></li><li class="css-sdb4jl"><a href="https://saturdaydrive.io" to="https://saturdaydrive.io">Saturday Drive<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></li></ul></aside><hr/></div><ul class="nav navbar-nav navBarUL navBarNav navbar-right navBarULRight"><li class="divider hidden-xs"></li><li class="githubBtn"><span><a href="https://github.com/shelob9/react-testing-wordpress-book" data-show-count="true" aria-label="Star on GitHub">Star</a></span></li></ul></div></nav></div><div class="css-mrz1a6"><div class="hidden-xs css-2x76ca"><aside class="css-hz2kq5"><ul class="sideBarUL"><li class="hideFrontLine firstLevel item "><ul><li class=" item "><a href="/testing-react-wordpress-blocks/introduction">Introduction</a></li><li class=" item "><button class="collapser"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"></path></svg></button><a href="/testing-react-wordpress-blocks/testing-background">Types of Tests</a><ul><li class=" item "><a href="/testing-react-wordpress-blocks/testing-background/2-unit-tests">Unit Tests</a></li><li class=" item "><a href="/testing-react-wordpress-blocks/testing-background/3-integration-tests">Integration Tests</a></li><li class=" item "><a href="/testing-react-wordpress-blocks/testing-background/4-acceptance-tests">Acceptance Tests</a></li></ul></li><li class=" item "><button class="collapser"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"></path></svg></button><a href="/testing-react-wordpress-blocks/testing-react-apps">Testing React Apps</a><ul><li class=" item "><a href="/testing-react-wordpress-blocks/testing-react-apps/2-questions-and-specs">Questions and Scopes</a></li><li class=" item "><a href="/testing-react-wordpress-blocks/testing-react-apps/3-unit-testing-react">Unit Testing React Apps</a></li><li class=" item "><a href="/testing-react-wordpress-blocks/testing-react-apps/4-integration-testing-react-apps">Integration Testing React Apps</a></li><li class=" item "><a href="/testing-react-wordpress-blocks/testing-react-apps/5-writing-tdd-react-components">Writing Test Driven React Components</a></li></ul></li><li class=" item "><button class="collapser"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"></path></svg></button><a href="/testing-react-wordpress-blocks/testing-react-wordpress-blocks">Testing WordPress Blocks</a><ul><li class=" item "><a href="/testing-react-wordpress-blocks/testing-react-wordpress-blocks/2-setting-up">Creating A WordPress Plugin Using WordPress Scripts</a></li><li class=" item "><a aria-current="page" class="" href="/testing-react-wordpress-blocks/testing-react-wordpress-blocks/3-structure">Structuring  WordRress Plugin For Testablity</a></li><li class=" item "><a href="/testing-react-wordpress-blocks/testing-react-wordpress-blocks/4-writing-block-tests">Wrting Tests For WordPress Blocks</a></li><li class=" item "><a href="/testing-react-wordpress-blocks/testing-react-wordpress-blocks/5-writing-tdd-blocks">Test-Driven Gutenberg Blocks</a></li></ul></li><li class=" item "><a href="/testing-react-wordpress-blocks/next">Next Steps</a></li><li class=" item "><a href="/testing-react-wordpress-blocks/about">About</a></li></ul></li><li class="css-17hslul"><hr/></li><li class="css-sdb4jl"><a href="https://JoshPress.net" to="https://JoshPress.net">Josh<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></li><li class="css-sdb4jl"><a href="https://saturdaydrive.io" to="https://saturdaydrive.io">Saturday Drive<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></li></ul></aside></div><main class="css-1do55sm"><div class="css-1o7wuc9"><div class="titleWrapper"><h1 class="title">Structuring  WordRress Plugin For Testablity</h1><div class="mobileView css-1cyu0d5"><a href="https://github.com/shelob9/react-testing-wordpress-book/tree/master/content/testing-react-wordpress-blocks/3-structure.md" class="gitBtn"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMiIgYmFzZVByb2ZpbGU9InRpbnkiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIgoJIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjM1MCAyMzE0LjgiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBkPSJNMTE3NSwwQzUyNS44LDAsMCw1MjUuOCwwLDExNzVjMCw1NTIuMiwzNzguOSwxMDEwLjUsODkwLjEsMTEzOS43Yy01LjktMTQuNy04LjgtMzUuMy04LjgtNTUuOHYtMTk5LjhINzM0LjQKCWMtNzkuMywwLTE1Mi44LTM1LjItMTg1LjEtOTkuOWMtMzguMi03MC41LTQ0LjEtMTc5LjItMTQxLTI0Ni44Yy0yOS40LTIzLjUtNS45LTQ3LDI2LjQtNDQuMWM2MS43LDE3LjYsMTExLjYsNTguOCwxNTguNiwxMjAuNAoJYzQ3LDYxLjcsNjcuNiw3Ni40LDE1NS43LDc2LjRjNDEuMSwwLDEwNS43LTIuOSwxNjQuNS0xMS44YzMyLjMtODIuMyw4OC4xLTE1NS43LDE1NS43LTE5MC45Yy0zOTMuNi00Ny01ODEuNi0yNDAuOS01ODEuNi01MDUuMwoJYzAtMTE0LjYsNDkuOS0yMjMuMywxMzIuMi0zMTcuM2MtMjYuNC05MS4xLTYxLjctMjc5LjEsMTEuOC0zNTIuNWMxNzYuMywwLDI4MiwxMTQuNiwzMDguNCwxNDMuOWM4OC4xLTI5LjQsMTg1LjEtNDcsMjg0LjktNDcKCWMxMDIuOCwwLDE5Ni44LDE3LjYsMjg0LjksNDdjMjYuNC0yOS40LDEzMi4yLTE0My45LDMwOC40LTE0My45YzcwLjUsNzAuNSwzOC4yLDI2MS40LDguOCwzNTIuNWM4Mi4zLDkxLjEsMTI5LjMsMjAyLjcsMTI5LjMsMzE3LjMKCWMwLDI2NC40LTE4NS4xLDQ1OC4zLTU3NS43LDQ5OS40YzEwOC43LDU1LjgsMTg1LjEsMjE0LjQsMTg1LjEsMzMxLjlWMjI1NmMwLDguOC0yLjksMTcuNi0yLjksMjYuNAoJQzIwMjEsMjEyMy44LDIzNTAsMTY4OS4xLDIzNTAsMTE3NUMyMzUwLDUyNS44LDE4MjQuMiwwLDExNzUsMEwxMTc1LDB6Ii8+Cjwvc3ZnPgo=" alt="Github logo"/> Edit on GitHub</a></div></div><div class="mainWrapper"><h2 id="startingwithspecifications" class="css-jehsw0">Starting With Specifications</h2><p class="css-kgl18x">Just like last time, we&#x27;ll start by defining the project&#x27;s scope and what questions different types of tests can answer for us. Then we&#x27;ll write failing tests, commit those and then make them pass.</p><h3 id="specforblock" class="css-hf8i38">Spec For Block</h3><p class="css-kgl18x">What we will be building is a a block for showing some text. This could be an alert block, or special call to action block, depending on what you want to do. First, let&#x27;s create a block with these specs:</p><ul><li>The components for the app should be reused.</li><li>The block preview and rendered content should be identical.</li><li>The control for the value should appear in the block’s inspector controls.</li></ul><p class="css-kgl18x">Once that foundation exists and has good test coverage, you can safely itterate on the code to make the block unique to your needs.</p><h3 id="testsforgutenbergblocks" class="css-hf8i38">Tests For Gutenberg Blocks</h3><p class="css-kgl18x">Beacuse this block will re-use the same components, we do not need to unti test those components. All of the tests we are doing are to ensure that those components work with Gutenberg properly. While small unit tests for functions created to help this process may be useful, for the most part, we want to use integration tests.</p><p class="css-kgl18x">In additition, we can use the WordPress e2e test suite, which is included to activate the plugin, add the block and make sure the block is added. That would be our acceptance test, showing that not only do the componentes work toghether, that the final product -- the block functions as expected.</p><h3 id="jestisthetestrunner" class="css-hf8i38">Jest Is The Test Runner</h3><p class="css-kgl18x">Testing works the same for Gutenberg blocks as other React apps. We are using Jest as the runner, and we can use same test renderers. Let&#x27;s go ahead and install the renderers we used last time in our plugin:</p><p class="css-kgl18x"><code class="css-trsm9o">yarn add @testing-libray/react</code></p><p class="css-kgl18x"><code class="css-trsm9o">yarn add react-test-renderer</code></p><h2 id="structuringblocksforeasytesting" class="css-jehsw0">Structuring Blocks For Easy Testing</h2><p class="css-kgl18x">A block can get pretty complex, and it&#x27;s tempting to do all of that in the file that registers the block. I think that any business logic besides block registration should be seperated into different files. The file that builds the block to do nothing but build the block.</p><h3 id="theblock" class="css-hf8i38">The Block</h3><p class="css-kgl18x">The file that builds the block should have the single responsiblity of mapping WordPress editor APIs, such as state management, to the existing components. This needs to happen in the edit <em>and</em> save callback. That&#x27;s two more responsibiliteis, so two more files --one for edit and save callback.</p><pre class="css-65wmf5"><pre class="prism-code language-javascript css-1pvw5s9" style="color:#9CDCFE;background-color:#1E1E1E"><div class="token-line"><span class="token comment" style="color:rgb(106, 153, 85)">//Import Blocks API</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword module" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> registerBlockType </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;@wordpress/blocks&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">//Import our components for edit and save callback</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword module" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token maybe-class-name">Editor</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;./components/Editor&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword module" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token maybe-class-name">Save</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;./components/Save&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">//Get the block&#x27;s meta info from block.json so we can also use that on the server.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> blockConfig </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;../block.json&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> title</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> attributes</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> category</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> keywords </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> blockConfig</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">//Register block</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">registerBlockType</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  title</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  attributes</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  category</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  keywords</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">//pass edit callback props to Editor component</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">edit</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token parameter">props</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token maybe-class-name">Editor</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token spread operator" style="color:rgb(212, 212, 212)">...</span><span class="token plain">props</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">//pass save callback props to Save component</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">save</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token parameter">props</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token maybe-class-name">Save</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token spread operator" style="color:rgb(212, 212, 212)">...</span><span class="token plain">props</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></pre></pre><h3 id="editandsavecallbacks" class="css-hf8i38">Edit And Save Callbacks</h3><p class="css-kgl18x">The edit and save callback are composed in separate files, importing components built for the app. They map WordPress&#x27; state to the existing components. In addition, they layout the component using the block editor&#x27;s components.</p><p class="css-kgl18x">Let&#x27;s add an empty edit callback function we can write tests around. At this point, we must consider which of the props we get from WordPress, does the child component actually need. We specifiy those as arguments and leave the rest blank at this point.</p><pre class="css-65wmf5"><pre class="prism-code language-javascript css-1pvw5s9" style="color:#9CDCFE;background-color:#1E1E1E"><div class="token-line"><span class="token comment" style="color:rgb(106, 153, 85)">//src/components/Editor.js</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword module" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token maybe-class-name">Fragment</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;react&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword module" style="color:rgb(86, 156, 214)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:rgb(220, 220, 170)">Editor</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token parameter"> attributes</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter"> setAttributes</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter"> className</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter"> clientId </span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token maybe-class-name">Fragment</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></pre></pre><p class="css-kgl18x">The save callback just needs the saved attribute and class name:</p><pre class="css-65wmf5"><pre class="prism-code language-javascript css-1pvw5s9" style="color:#9CDCFE;background-color:#1E1E1E"><div class="token-line"><span class="token keyword module" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;react&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword module" style="color:rgb(86, 156, 214)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:rgb(220, 220, 170)">Save</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token parameter"> attributes</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter"> className </span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access maybe-class-name">Fragment</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div></pre></pre><p class="css-kgl18x">Go ahead and commit those components and then we can start writing tests for them.</p></div><div class="addPaddTopBottom"><div class="nextPreviousWrapper"><a class="previousBtn" href="/testing-react-wordpress-blocks/testing-react-wordpress-blocks/2-setting-up"><div class="leftArrow"><svg preserveAspectRatio="xMidYMid meet" height="1em" width="1em" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" class="_13gjrqj"><g><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></g></svg></div><div class="preRightWrapper"><div class="smallContent"><span>Previous</span></div><div class="nextPreviousTitle"><span>Creating A WordPress Plugin Using WordPress Scripts</span></div></div></a><a class="nextBtn" href="/testing-react-wordpress-blocks/testing-react-wordpress-blocks/4-writing-block-tests"><div class="nextRightWrapper"><div class="smallContent"><span>Next</span></div><div class="nextPreviousTitle"><span>Wrting Tests For WordPress Blocks</span></div></div><div class="rightArrow"><svg preserveAspectRatio="xMidYMid meet" height="1em" width="1em" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" class="_13gjrqj"><g><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></g></svg></div></a></div></div></div></main><div class="hidden-xs css-1ig3yiy"><aside class="css-1vcvnke"><ul class="rightSideBarUL"><div class="rightSideTitle">CONTENTS</div><li class="css-om68wv"><a href="#startingwithspecifications" to="#startingwithspecifications">Starting With Specifications</a></li><li class="css-om68wv"><a href="#structuringblocksforeasytesting" to="#structuringblocksforeasytesting">Structuring Blocks For Easy Testing</a></li></ul></aside></div></div></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/testing-react-wordpress-blocks/3-structure";window.webpackCompilationHash="83b09e4d5a6066092e1f";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-6f9daf18df1c263e214d.js"],"component---src-templates-docs-js":[]};/*]]>*/</script><script src="/testing-react-wordpress-blocks/webpack-runtime-d596d0be72563a022ed3.js" async=""></script><script src="/testing-react-wordpress-blocks/styles-03a27cfaa0c407ff155e.js" async=""></script><script src="/testing-react-wordpress-blocks/app-6f9daf18df1c263e214d.js" async=""></script><script src="/testing-react-wordpress-blocks/commons-0c5b058b0bf60dd40b1f.js" async=""></script><script>
            $(document).on('click','.navbar-collapse.in',function(e) {
              if( $(e.target).is('a') ) {
                $(this).collapse('hide');
              }
            });
            </script></body></html>